{% extends 'base.html' %}

{% block title %}
{% if categoria %}
    {{ categoria.nombre }}
{% elif noticias %}
    {{ noticias.0.categoria }}
{% else %}
    Noticias Filtradas
{% endif %}
{% endblock %}

{% block content %}

<div class="noticias-header">
    <div class="header-content">
        <div class="categoria-info">
            {% if categoria %}
                <h1>{{ categoria.nombre }}</h1>
                <p class="categoria-descripcion">Noticias de la categorÃ­a {{ categoria.nombre }}</p>
            {% elif noticias %}
                <h1>{{ noticias.0.categoria }}</h1>
                <p class="categoria-descripcion">Noticias de la categorÃ­a {{ noticias.0.categoria }}</p>
            {% else %}
                <h1>Noticias Filtradas</h1>
            {% endif %}
        </div>
    </div>
</div>

{% if noticias %}
<div class="noticias-grid">
    {% for noticia in noticias %}
    <article class="noticia-card">
        <div class="noticia-imagen">
            {% if noticia.imagen %}
                <img src="{{ noticia.imagen.url }}" alt="{{ noticia.titulo }}">
            {% else %}
                <div class="imagen-placeholder"><span>ðŸ“°</span></div>
            {% endif %}
            <div class="categoria-badge">{{ noticia.categoria }}</div>
        </div>
        <div class="noticia-contenido">
            <h3 class="noticia-titulo">
                <a href="{% url 'noticias:path_detalle_noticias' noticia.pk %}">{{ noticia.titulo }}</a>
            </h3>
            <p class="noticia-resumen">{{ noticia.resumen|truncatewords:20 }}</p>
            <div class="noticia-meta">
                <span class="fecha">{{ noticia.fecha_creacion|date:"d M Y" }}</span>
                {% if noticia.autor %}
                    <span class="autor">por {{ noticia.autor }}</span>
                {% endif %}
            </div>
            <a href="{% url 'noticias:path_detalle_noticias' noticia.pk %}" class="leer-mas">Leer mÃ¡s â†’</a>
        </div>
    </article>
    {% endfor %}
</div>
{% else %}
<div class="no-noticias-categoria">
    <div class="icono-vacio">ðŸ“°</div>
    <h3>No hay noticias en esta categorÃ­a</h3>
    <p>AÃºn no existen noticias para esta categorÃ­a</p>
</div>
{% endif %}

{% endblock %}
